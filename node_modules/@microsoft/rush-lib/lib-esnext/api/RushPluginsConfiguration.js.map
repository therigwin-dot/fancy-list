{"version":3,"file":"RushPluginsConfiguration.js","sourceRoot":"","sources":["../../src/api/RushPluginsConfiguration.ts"],"names":[],"mappings":"AAAA,4FAA4F;AAC5F,2DAA2D;AAE3D,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAC;AAEhF,OAAO,UAAU,MAAM,qCAAqC,CAAC;AAkB7D,MAAM,OAAO,wBAAwB;IAOnC,YAAmB,YAAoB;QACrC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,aAAa,GAAG;YACnB,OAAO,EAAE,EAAE;SACZ,CAAC;QAEF,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;YAC1C,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,wBAAwB,CAAC,WAAW,CAAC,CAAC;QAC1G,CAAC;IACH,CAAC;;AAfc,oCAAW,GAAe,UAAU,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport { FileSystem, JsonFile, JsonSchema } from '@rushstack/node-core-library';\n\nimport schemaJson from '../schemas/rush-plugins.schema.json';\n\n/**\n * @internal\n */\nexport interface IRushPluginConfigurationBase {\n  packageName: string;\n  pluginName: string;\n}\n\nexport interface IRushPluginConfiguration extends IRushPluginConfigurationBase {\n  autoinstallerName: string;\n}\n\ninterface IRushPluginsConfigurationJson {\n  plugins: IRushPluginConfiguration[];\n}\n\nexport class RushPluginsConfiguration {\n  private static _jsonSchema: JsonSchema = JsonSchema.fromLoadedObject(schemaJson);\n\n  private _jsonFilename: string;\n\n  public readonly configuration: Readonly<IRushPluginsConfigurationJson>;\n\n  public constructor(jsonFilename: string) {\n    this._jsonFilename = jsonFilename;\n    this.configuration = {\n      plugins: []\n    };\n\n    if (FileSystem.exists(this._jsonFilename)) {\n      this.configuration = JsonFile.loadAndValidate(this._jsonFilename, RushPluginsConfiguration._jsonSchema);\n    }\n  }\n}\n"]}