{"version":3,"file":"ChangeManager.js","sourceRoot":"","sources":["../../src/api/ChangeManager.ts"],"names":[],"mappings":"AAAA,4FAA4F;AAC5F,2DAA2D;AAI3D,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG1C;;;GAGG;AACH,MAAM,OAAO,aAAa;IACxB;;;;;;OAMG;IACI,MAAM,CAAC,sBAAsB,CAClC,iBAAoC,EACpC,WAAmB,EACnB,YAAoB;QAEpB,MAAM,WAAW,GAAyC,iBAAiB,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAC1G,IAAI,WAAW,IAAI,WAAW,CAAC,aAAa,EAAE,CAAC;YAC7C,MAAM,UAAU,GAAgB;gBAC9B,yDAAyD;gBACzD,OAAO,EAAE;oBACP;wBACE,OAAO,EAAE,EAAE;wBACX,WAAW,EAAE,WAAW;wBACxB,IAAI,EAAE,MAAM;qBACb;iBACF;gBACD,WAAW,EAAE,WAAW;gBACxB,KAAK,EAAE,YAAY;aACpB,CAAC;YAEF,OAAO,IAAI,UAAU,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC,SAAS,EAAE,CAAC;QACnE,CAAC;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;CACF","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport type { RushConfiguration } from './RushConfiguration';\nimport type { RushConfigurationProject } from './RushConfigurationProject';\nimport { ChangeFile } from './ChangeFile';\nimport type { IChangeFile } from './ChangeManagement';\n\n/**\n * A class that helps with programmatically interacting with Rush's change files.\n * @public\n */\nexport class ChangeManager {\n  /**\n   * Creates a change file that has a 'none' type.\n   * @param rushConfiguration - The rush configuration we are working with\n   * @param projectName - The name of the project for which to create a change file\n   * @param emailAddress - The email address which should be associated with this change\n   * @returns the path to the file that was created, or undefined if no file was written\n   */\n  public static createEmptyChangeFiles(\n    rushConfiguration: RushConfiguration,\n    projectName: string,\n    emailAddress: string\n  ): string | undefined {\n    const projectInfo: RushConfigurationProject | undefined = rushConfiguration.getProjectByName(projectName);\n    if (projectInfo && projectInfo.shouldPublish) {\n      const changefile: IChangeFile = {\n        // eslint-disable-line @typescript-eslint/no-explicit-any\n        changes: [\n          {\n            comment: '',\n            packageName: projectName,\n            type: 'none'\n          }\n        ],\n        packageName: projectName,\n        email: emailAddress\n      };\n\n      return new ChangeFile(changefile, rushConfiguration).writeSync();\n    }\n    return undefined;\n  }\n}\n"]}