{"version":3,"file":"UpdateAutoinstallerAction.js","sourceRoot":"","sources":["../../../src/cli/actions/UpdateAutoinstallerAction.ts"],"names":[],"mappings":"AAAA,4FAA4F;AAC5F,2DAA2D;AAI3D,OAAO,EAAE,uBAAuB,EAAE,MAAM,2BAA2B,CAAC;AAEpE,MAAM,OAAO,yBAA0B,SAAQ,uBAAuB;IACpE,YAAmB,MAA6B;QAC9C,KAAK,CAAC;YACJ,UAAU,EAAE,sBAAsB;YAClC,OAAO,EAAE,4CAA4C;YACrD,aAAa,EAAE,iFAAiF;YAChG,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IAES,KAAK,CAAC,YAAY,CAAC,aAA4B;QACvD,2FAA2F;QAC3F,uFAAuF;QACvF,qBAAqB;QACrB,MAAM,aAAa,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;CACF","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport type { RushCommandLineParser } from '../RushCommandLineParser';\nimport type { Autoinstaller } from '../../logic/Autoinstaller';\nimport { BaseAutoinstallerAction } from './BaseAutoinstallerAction';\n\nexport class UpdateAutoinstallerAction extends BaseAutoinstallerAction {\n  public constructor(parser: RushCommandLineParser) {\n    super({\n      actionName: 'update-autoinstaller',\n      summary: 'Updates autoinstaller package dependencies',\n      documentation: 'Use this command to regenerate the shrinkwrap file for an autoinstaller folder.',\n      parser\n    });\n  }\n\n  protected async prepareAsync(autoinstaller: Autoinstaller): Promise<void> {\n    // Do not run `autoinstaller.prepareAsync` here. It tries to install the autoinstaller with\n    // --frozen-lockfile or equivalent, which will fail if the autoinstaller's dependencies\n    // have been changed.\n    await autoinstaller.updateAsync();\n  }\n}\n"]}