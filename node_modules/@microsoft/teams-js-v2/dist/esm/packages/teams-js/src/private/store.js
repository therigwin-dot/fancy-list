import{__awaiter as e}from"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js";import{callFunctionInHost as o}from"../internal/communication.js";import{ensureInitialized as t}from"../internal/internalAPIs.js";import{getApiVersionTag as i}from"../internal/telemetry.js";import{AppId as r}from"../public/appId.js";import{FrameContexts as p,errorNotSupportedOnPlatform as n}from"../public/constants.js";import{runtime as l}from"../public/runtime.js";var s;!function(e){e.FullStore="fullstore",e.SpecificStore="specificstore",e.InContextStore="ics",e.AppDetail="appdetail"}(s||(s={}));const c="Invalid store dialog type, but type needed to specify store to open",d="No App Id present, but AppId needed to open AppDetail store",a="No Collection Id present, but CollectionId needed to open a store specific to a collection";function u(u){return e(this,void 0,void 0,(function*(){if(t(l,p.content,p.sidePanel,p.meetingStage),!f())throw n;if(void 0===u||!Object.values(s).includes(u.dialogType))throw new Error(c);if(u.dialogType===s.AppDetail&&!(u.appId instanceof r))throw new Error(d);if(u.dialogType===s.SpecificStore&&!u.collectionId)throw new Error(a);return o("store.open",[u.dialogType,u.appId,u.collectionId],i("v2","store.open"))}))}function f(){return t(l)&&!!l.supports.store}export{s as StoreDialogType,c as errorInvalidDialogType,d as errorMissingAppId,a as errorMissingCollectionId,f as isSupported,u as openStoreExperience};
