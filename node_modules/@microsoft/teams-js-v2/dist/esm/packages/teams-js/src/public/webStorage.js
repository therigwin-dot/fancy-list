import{__awaiter as t}from"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js";import{sendAndUnwrap as e}from"../internal/communication.js";import{GlobalVars as r}from"../internal/globalVars.js";import{ensureInitialized as o}from"../internal/internalAPIs.js";import{getApiVersionTag as i}from"../internal/telemetry.js";import{getCachedHostName as n}from"../internal/webStorageHelpers.js";import{errorNotSupportedOnPlatform as s,HostClientType as l,HostName as m}from"./constants.js";import{runtime as p}from"./runtime.js";function a(){return t(this,void 0,void 0,(function*(){if(o(p),!u())throw s;return!(!p.isLegacyTeams||r.hostClientType!==l.android&&r.hostClientType!==l.ios&&r.hostClientType!==l.ipados||(yield function(){return t(this,void 0,void 0,(function*(){return n()}))}())!==m.teams)||(yield e(i("v2","webStorage.isWebStorageClearedOnUserLogOut"),"webStorage.isWebStorageClearedOnUserLogOut"))}))}function u(){return o(p)&&void 0!==p.supports.webStorage}export{u as isSupported,a as isWebStorageClearedOnUserLogOut};
