import{__awaiter as t}from"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js";import{validateAppIdInstance as n}from"../internal/appIdValidation.js";import{callFunctionInHost as e,callFunctionInHostAndHandleResponse as i}from"../internal/communication.js";import{ensureInitialized as r}from"../internal/internalAPIs.js";import{getApiVersionTag as o}from"../internal/telemetry.js";import{validateId as u}from"../internal/utils.js";import{FrameContexts as a,errorNotSupportedOnPlatform as p}from"../public/constants.js";import{runtime as s}from"../public/runtime.js";import{validateActionExecuteInvokeRequest as c,ActionExecuteResponseHandler as h,SerializableActionExecuteInvokeRequest as l,isInvokeError as A}from"./externalAppAuthentication.js";const m="v2";function d(n,i,u){return t(this,void 0,void 0,(function*(){if(r(s,a.content),!v())throw p;return w(n,i),e("externalAppAuthenticationForCEA.authenticateWithSSO",[n,i,u.claims,u.silent],o(m,"externalAppAuthenticationForCEA.authenticateWithSSO"),A)}))}function f(n,i,u){return t(this,void 0,void 0,(function*(){if(r(s,a.content),!v())throw p;return w(n,i),e("externalAppAuthenticationForCEA.authenticateWithOauth",[n,i,u.url.href,u.width,u.height,u.isExternal],o(m,"externalAppAuthenticationForCEA.authenticateWithOauth"),A)}))}function x(n,e,u,d){return t(this,void 0,void 0,(function*(){if(r(s,a.content),!v())throw p;return w(n,e),c(d),i("externalAppAuthenticationForCEA.authenticateAndResendRequest",[n,e,new l(d),u.url.href,u.width,u.height,u.isExternal],new h,o(m,"externalAppAuthenticationForCEA.authenticateAndResendRequest"),A)}))}function E(n,e,u,d){return t(this,void 0,void 0,(function*(){if(r(s,a.content),!v())throw p;return w(n,e),c(d),i("externalAppAuthenticationForCEA.authenticateWithSSOAndResendRequest",[n,e,new l(d),u.claims,u.silent],new h,o(m,"externalAppAuthenticationForCEA.authenticateWithSSOAndResendRequest"),A)}))}function v(){return!(!r(s)||!s.supports.externalAppAuthenticationForCEA)}function w(t,e){u(e,new Error("conversation id is not valid.")),n(t)}export{x as authenticateAndResendRequest,f as authenticateWithOauth,d as authenticateWithSSO,E as authenticateWithSSOAndResendRequest,v as isSupported,w as validateInput};
