"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.initialize = void 0;
var tslib_1 = require("tslib");
var F12_KEYCODE = 123;
var MAC_PLATFORM_IDENTIFIER = 'MacIntel';
var _listenerHasBeenRegistered = false;
var _developerTools;
function initialize(serviceScope) {
    if (!_listenerHasBeenRegistered) {
        document.documentElement.addEventListener('keydown', function (event) {
            var isMac = navigator.platform === MAC_PLATFORM_IDENTIFIER;
            // Detect ctrl+F12 for any platform, and detect âŒ˜+F12 on macs
            if (((event.ctrlKey && !event.metaKey) || (isMac && event.metaKey && !event.ctrlKey)) &&
                !event.altKey &&
                event.keyCode === F12_KEYCODE) {
                // ctrl+F12
                event.preventDefault();
                void _toggleDeveloperToolsAsync(serviceScope);
            }
        });
        _listenerHasBeenRegistered = true;
    }
}
exports.initialize = initialize;
function _toggleDeveloperToolsAsync(serviceScope) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (!_developerTools) return [3 /*break*/, 1];
                    _developerTools.toggleDeveloperTools();
                    return [3 /*break*/, 3];
                case 1: return [4 /*yield*/, Promise.resolve().then(function () { return tslib_1.__importStar(require(
                    /* webpackChunkName: "developer-tools" */
                    './DeveloperTools')); })];
                case 2:
                    // eslint-disable-next-line require-atomic-updates
                    _developerTools = _a.sent();
                    _developerTools.initialize(serviceScope);
                    _developerTools.showHideDeveloperTools(true);
                    _a.label = 3;
                case 3: return [2 /*return*/];
            }
        });
    });
}
//# sourceMappingURL=DeveloperToolsLoader.js.map