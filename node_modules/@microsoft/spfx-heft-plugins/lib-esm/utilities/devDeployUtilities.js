import { hostname } from 'os';
import gitRepoInfo from 'git-repo-info';
let cachedContainerName;
export function getDevDeployContainerDirectoryName() {
    if (!cachedContainerName) {
        const baseContainerName = `dev-${getUserName()}-${hostname()}`;
        let leaf = process.cwd();
        try {
            const repoInfo = gitRepoInfo();
            if (repoInfo.root && repoInfo.branch) {
                leaf = `${repoInfo.root}-${repoInfo.branch}`;
            }
        } catch (err) {
        // Do nothing
        }
        // Ensure the path is URL-safe.
        cachedContainerName = `${baseContainerName}-${leaf}`.replace(/[^A-Za-z0-9\-\/]+/g, '_');
    }
    return cachedContainerName;
}
export function getStorageAccountUrl(storageAccountName) {
    return `https://${storageAccountName}.blob.core.windows.net/`;
}
function getUserName() {
    return process.env.USERNAME || process.env.LOGNAME || process.env.USER || process.env.LNAME || 'unknown_user';
}

//#sourceMappingUrl=./devDeployUtilities.js.map