"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ProgressBar", {
    enumerable: true,
    get: function() {
        return ProgressBar;
    }
});
const _terminal = require("@rushstack/terminal");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
class ProgressBar {
    update(current) {
        this._current = current;
        this.draw(this._current);
    }
    draw(currentProgress) {
        // eslint-disable-next-line no-bitwise
        const progress = currentProgress * this._barLength / this._total | 0;
        if (progress !== this._temp) {
            this._terminal.write('.');
        }
        if (currentProgress === this._total) {
            this._terminal.write('Done\n');
        }
        this._temp = progress;
    }
    constructor(size){
        _define_property(this, "_total", void 0);
        _define_property(this, "_current", void 0);
        _define_property(this, "_barLength", void 0);
        _define_property(this, "_temp", void 0);
        _define_property(this, "_terminal", void 0);
        _define_property(this, "_terminalProvider", void 0);
        this._total = size;
        this._current = 0;
        this._barLength = 120;
        this._temp = 0;
        this._terminalProvider = new _terminal.ConsoleTerminalProvider();
        this._terminal = new _terminal.Terminal(this._terminalProvider);
    }
}

//#sourceMappingUrl=./ProgressBar.js.map