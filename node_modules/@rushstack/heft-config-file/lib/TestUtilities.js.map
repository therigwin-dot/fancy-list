{"version":3,"file":"TestUtilities.js","sourceRoot":"","sources":["../src/TestUtilities.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;AAS3D,4CAqBC;AA5BD,mEAAoG;AAEpG;;;;GAIG;AACH,SAAgB,gBAAgB,CAAU,GAAY;IACpD,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE,CAAC;QAC5C,OAAO,GAAG,CAAC;IACb,CAAC;SAAM,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;QAC9B,MAAM,MAAM,GAAc,EAAE,CAAC;QAC7B,KAAK,MAAM,KAAK,IAAI,GAAG,EAAE,CAAC;YACxB,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;QACvC,CAAC;QAED,OAAO,MAAiB,CAAC;IAC3B,CAAC;SAAM,CAAC;QACN,MAAM,SAAS,GAAY,kBAAK,GAAG,CAAa,CAAC;QACjD,OAAQ,SAA+C,CAAC,2DAAmC,CAAC,CAAC;QAC7F,KAAK,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAmB,CAAC,EAAE,CAAC;YAChE,SAAS,CAAC,IAAqB,CAAC,GAAG,gBAAgB,CACjD,KAA+B,CAChC,CAAC;QACJ,CAAC;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;AACH,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport { CONFIGURATION_FILE_FIELD_ANNOTATION, type IAnnotatedField } from './ConfigurationFileBase';\n\n/**\n * Returns an object with investigative annotations stripped, useful for snapshot testing.\n *\n * @beta\n */\nexport function stripAnnotations<TObject>(obj: TObject): TObject {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  } else if (Array.isArray(obj)) {\n    const result: unknown[] = [];\n    for (const value of obj) {\n      result.push(stripAnnotations(value));\n    }\n\n    return result as TObject;\n  } else {\n    const clonedObj: TObject = { ...obj } as TObject;\n    delete (clonedObj as Partial<IAnnotatedField<unknown>>)[CONFIGURATION_FILE_FIELD_ANNOTATION];\n    for (const [name, value] of Object.entries(clonedObj as object)) {\n      clonedObj[name as keyof TObject] = stripAnnotations<TObject[keyof TObject]>(\n        value as TObject[keyof TObject]\n      );\n    }\n\n    return clonedObj;\n  }\n}\n"]}